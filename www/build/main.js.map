{"version":3,"sources":["../../node_modules/@angular/core/esm5 lazy","../../src lazy","../../src/pages/dbpedia-entry/dbpedia-entry.module.ts","../../src/pages/dbpedia-entry/dbpedia-entry.ts","../../src/components/components.module.ts","../../src/pages/explorer/explorer.module.ts","../../src/pages/explorer/explorer.ts","../../src/pages/explorer/tagged-html.module.ts","../../src/pages/tabs/tabs.ts","../../src/pages/about/about.ts","../../src/pages/contact/contact.ts","../../src/pages/home/home.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/components/dbpedia-entity-viewer/dbpedia-entity-viewer.ts","../../src/pages/explorer/tagged-html.ts","../../src/app/app.component.ts","../../src/theme/mapstyle.json"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 182;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/esm5 lazy\n// module id = 182\n// module chunks = 0","var map = {\n\t\"../pages/dbpedia-entry/dbpedia-entry.module\": [\n\t\t225\n\t],\n\t\"../pages/explorer/explorer.module\": [\n\t\t229\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids)\n\t\treturn Promise.reject(new Error(\"Cannot find module '\" + req + \"'.\"));\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(ids[0]);\n\t});\n};\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 224;\nmodule.exports = webpackAsyncContext;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 224\n// module chunks = 0","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { DbpediaEntryPage } from './dbpedia-entry';\n\nimport { ComponentsModule } from '../../components/components.module';\n\n@NgModule({\n  declarations: [\n    DbpediaEntryPage,\n  ],\n  imports: [\n      IonicPageModule.forChild(DbpediaEntryPage),\n      ComponentsModule\n  ],\n})\nexport class DbpediaEntryPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dbpedia-entry/dbpedia-entry.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\n\n@IonicPage()\n@Component({\n  selector: 'page-dbpedia-entry',\n  templateUrl: 'dbpedia-entry.html',\n})\nexport class DbpediaEntryPage {\n  private entry: any;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private viewCtrl: ViewController) {\n      this.entry = navParams.get(\"entry\");\n  }\n\n  close() {\n      this.viewCtrl.dismiss();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/dbpedia-entry/dbpedia-entry.ts","import { NgModule } from '@angular/core';\nimport { DbpediaEntityViewerComponent } from './dbpedia-entity-viewer/dbpedia-entity-viewer';\n\nimport { IonicPageModule } from 'ionic-angular';\n\n@NgModule({\n\tdeclarations: [DbpediaEntityViewerComponent],\n    imports: [IonicPageModule.forChild(DbpediaEntityViewerComponent)],\n\texports: [DbpediaEntityViewerComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ExplorerPage } from './explorer';\n\nimport { TaggedHtmlModule } from './tagged-html.module';\n\n@NgModule({\n  declarations: [\n      ExplorerPage,\n  ],\n  imports: [\n      TaggedHtmlModule,\n      IonicPageModule.forChild(ExplorerPage)\n  ],\n})\nexport class ExplorerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/explorer/explorer.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\nimport { AngularFireDatabase } from 'angularfire2/database';\nimport { map } from 'rxjs/operators';\n\nexport interface DBpediaEntity {\n    URI: string;\n    types: string[];\n    symbols: string[];\r\n}\n\n@IonicPage()\n@Component({\n  selector: 'page-explorer',\n  templateUrl: 'explorer.html',\n})\nexport class ExplorerPage {\n\n  private zone: any;\n  private subtab: string;\n\n  private fetchingEntities: boolean;\n\n  private entities: DBpediaEntity[];\n  private partialQueries: string[];\n  private partialResults: any[];\n\n  private queriedDBpedia: boolean;\n\n  constructor(public navCtrl: NavController, public navParams: NavParams, private afDB: AngularFireDatabase) {\n      this.zone = navParams.get(\"zone\");\n      this.subtab = 'wwf';\n\n      this.fetchingEntities = false;\n      this.entities = [];\n      this.partialQueries = [];\n      this.partialResults = [];\n\n      this.queriedDBpedia = false;\n  }\n\n  ionViewDidLoad() {\n      // Check entities in cache\n      this.afDB.list('regions-dbpedia/'+this.zone.code).valueChanges()/*.snapshotChanges().pipe(\r\n          map((actions: any) =>\r\n              actions.map(a => ({ key: a.key, ...a.payload.val() }))\r\n          )\r\n      )*/.subscribe((items: any[]) => {\n          if (items.length == 0 && !this.queriedDBpedia)\n          {\n              this.queryDBpedia();\n              this.queriedDBpedia = true;\n              return;\r\n          }\n\n          this.entities = items;\r\n        });\n\n      \r\n  }\n\n\n  queryDBpedia() {\n      var text = (this.zone.$data || {}).content || \"\";\r\n\r\n      if (text.length == 0) return;\r\n\r\n      var query = encodeURIComponent(text);\r\n\n      var lim = 5000;\n      while (query.length > 0) {\n          if (query.length > lim) {\n              var head = query.slice(0, lim);\n              var tail = query.slice(lim);\n              this.partialQueries.push(head);\r\n              query = tail;\r\n          } else {\n              this.partialQueries.push(query);\n              query = '';\r\n          }\r\n      }\r\n\n      this.fetchingEntities = true;\n      this.queryNextTextPart();\r\n  }\n\n  queryNextTextPart() {\n      if (this.partialQueries.length <= this.partialResults.length) {\n          return;\r\n      }\n\n      var q = this.partialQueries[this.partialResults.length];\n\n      var url = `https://api.dbpedia-spotlight.org/en/annotate?text=${q}`;\r\n\r\n      var myHeaders = new Headers();\r\n      myHeaders.append(\"accept\", \"application/json\");\r\n\r\n      var myInit: RequestInit = {\r\n          method: 'GET',\r\n          headers: myHeaders,\r\n          cache: 'default'\r\n      };\r\n\r\n      var myRequest = new Request(url, myInit);\r\n\r\n      fetch(myRequest, myInit)\r\n          .then(response => response.json())\r\n          .then(json => this.onTextPartEntitiesReceived(json));\r\n  }\n\n  onTextPartEntitiesReceived(res) {\n      this.partialResults.push(res);\n\n      if (this.partialQueries.length > this.partialResults.length) {\n          this.queryNextTextPart();\r\n      }\n      else {\n          this.finalizeTextEntities();\r\n      }\n\r\n  }\n\n  finalizeTextEntities() {\n      var finalResources = this.partialResults.reduce((prev, cur) => prev.concat(cur.Resources), []);\n\n\n      var dict = {};\n\n      var blacklist = [\n          \"http://dbpedia.org/resource/WYSIWYG\",\n          \"http://dbpedia.org/resource/Ultralight_aviation\",\n          \"http://dbpedia.org/resource/Uniform_Resource_Locator\",\n          \"http://dbpedia.org/resource/Bad_Ems\"\r\n      ];\n\n      finalResources.map(d => {\n          if (blacklist.indexOf(d[\"@URI\"]) > -1)\n              return;\n\n          if (!dict[d[\"@URI\"]]) {\n              dict[d[\"@URI\"]] = d;\n              dict[d[\"@URI\"]].symbols = [];\r\n          }\n\n          if (dict[d[\"@URI\"]].symbols.indexOf(d[\"@surfaceForm\"]) == -1) {\n              dict[d[\"@URI\"]].symbols.push(d[\"@surfaceForm\"]);\r\n          }\n\r\n      });\n\n      this.entities = Object.keys(dict).map(k => {\n          let e: DBpediaEntity = {\n              URI: dict[k][\"@URI\"],\n              types: dict[k][\"@types\"].split(','),\n              symbols: dict[k][\"symbols\"]\n          };\n\n          return e;\n      });\n\n      // Save in FB-cache\n      let cached = {};\n      this.entities.map(e => cached[e.URI.replace(\"http://dbpedia.org/resource/\", \"\").split('.').join('--')] = e);\n      this.afDB.database.ref('regions-dbpedia/' + this.zone.code).set(cached);\n\n\n      this.fetchingEntities = false;\r\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/explorer/explorer.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { TaggedHtml, TaggedKeyword } from './tagged-html';\n\n@NgModule({\n    declarations: [\n        TaggedHtml,\n        TaggedKeyword\n    ],\n    exports: [\n        TaggedHtml,\n        TaggedKeyword\n    ],\n    imports: [\n        //IonicPageModule.forChild(TaggedHtml)\n    ],\n})\nexport class TaggedHtmlModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pages/explorer/tagged-html.module.ts","import { Component } from '@angular/core';\n\nimport { AboutPage } from '../about/about';\nimport { ContactPage } from '../contact/contact';\nimport { HomePage } from '../home/home';\n\n@Component({\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n\n  tab1Root = HomePage;\n  tab2Root = AboutPage;\n  tab3Root = ContactPage;\n\n  constructor() {\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-about',\n  templateUrl: 'about.html'\n})\nexport class AboutPage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/about/about.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\n@Component({\n  selector: 'page-contact',\n  templateUrl: 'contact.html'\n})\nexport class ContactPage {\n\n  constructor(public navCtrl: NavController) {\n\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/contact/contact.ts","import { Component } from '@angular/core';\nimport { NavController } from 'ionic-angular';\n\nimport { ExplorerPage } from '../explorer/explorer';\n\nimport { AngularFireDatabase } from 'angularfire2/database';\r\nimport { Observable } from 'rxjs/Observable';\r\nimport { map } from 'rxjs/operators';\n\nimport * as MapStyle from '../../theme/mapstyle.json';\n\ndeclare var mapboxgl;\n\ninterface Zone {\n    code: string;\n    name: string;\n    $data?: any;\r\n}\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n\n    private selectedZone: Zone;\n    private showDetails: Boolean;\n    private mapPopup: any;\n\n    //private regions: Observable<any[]>;\n    private regions: any;\n\n    constructor(public navCtrl: NavController, afDB: AngularFireDatabase) {\n      this.selectedZone = null;\n      this.showDetails = false;\n\n      //this.regions = afDB.list('regions').valueChanges();\n\n      afDB.list('regions').snapshotChanges().pipe(\r\n          map((actions: any) =>\r\n              actions.map(a => ({ key: a.key, ...a.payload.val() }))\r\n          )\r\n      ).subscribe(items => {\n          this.regions = this.regions || {};\n          items.map(d => this.regions[d.key] = d);\r\n          //this.regions = items;\r\n      });\n  }\n\n  ionViewDidLoad() {\n      /** Map */\r\n      mapboxgl.accessToken = 'pk.eyJ1IjoiZ2F0dGhpYXMiLCJhIjoiY2pjcTRsN3V2MXN3cjMzcm9kNmFmNHZ0OSJ9.TFA4I0fJKmU9Gz_HmuR6iQ';\r\n\r\n      var map = new mapboxgl.Map({\r\n          container: 'map',\r\n          style: MapStyle, //styleUrl,//style,\r\n          hash: true\r\n      });\n\n      // When a click event occurs on a feature in the places layer, open a popup at the\r\n      // location of the feature, with description HTML from its properties.\r\n      map.on('click', 'ecoregions2017', e => {\r\n          var description = e.features[0].properties.ECO_NAME;\r\n          var eco_code = e.features[0].properties.eco_code.toLowerCase();\r\n          var url = `https://www.worldwildlife.org/ecoregions/${eco_code}`;\r\n\r\n          var html = `\r\n          <h3>${description}</h3>\r\n  \r\n          <a href=\"#\" onclick=\"showDetails()\">Details</a>\r\n          <a href=\"${url}\" target=\"_blank\">View</a>\r\n          `;\r\n\n          this.selectedZone = {\n              name: e.features[0].properties.ECO_NAME,\n              code: e.features[0].properties.eco_code.toLowerCase()\r\n          };\n\r\n          this.updateDetailsView(this.selectedZone);\r\n\r\n          this.mapPopup = new mapboxgl.Popup()\r\n              .setLngLat(e.lngLat)\r\n              .setHTML(html)\r\n              .addTo(map);\r\n      });\r\n  }\n\n  closeSelection($event: any) {\n      $event && $event.srcEvent && $event.srcEvent.stopPropagation && $event.srcEvent.stopPropagation();\n      $event && $event.srcEvent && $event.srcEvent.preventDefault && $event.srcEvent.preventDefault();\n\n      this.selectedZone = null;\n      if (this.mapPopup)\n      {\n          this.mapPopup.remove();\r\n      }\n      this.mapPopup = null;\r\n  }\n\n  updateDetailsView(selectedZone: Zone) {\r\n      if (this.regions && this.regions[selectedZone.code]) {\r\n          var region = this.regions[selectedZone.code];\n\n          selectedZone.$data = region;\n      }\r\n  }\n\n  toggleDetails() {\n      this.showDetails = !this.showDetails;\r\n  }\n\n  more() {\n      this.navCtrl.push(ExplorerPage, { zone: this.selectedZone });\r\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { NgModule, ErrorHandler } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { MyApp } from './app.component';\n\nimport { AboutPage } from '../pages/about/about';\nimport { ContactPage } from '../pages/contact/contact';\nimport { HomePage } from '../pages/home/home';\nimport { TabsPage } from '../pages/tabs/tabs';\n\nimport { ExplorerPageModule } from '../pages/explorer/explorer.module';\nimport { DbpediaEntryPageModule } from '../pages/dbpedia-entry/dbpedia-entry.module';\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HttpClientModule } from '@angular/common/http';\nimport { AngularFireModule } from 'angularfire2';\r\nimport { AngularFireDatabaseModule, AngularFireDatabase } from 'angularfire2/database';\n\nimport { ComponentsModule } from '../components/components.module';\r\n\r\nexport const firebaseConfig = {\n    apiKey: \"AIzaSyDHHyyv-Gu2DdvcHEDo2E4yURXTU0-GdXg\",\r\n    authDomain: \"ecoregions-d6961.firebaseapp.com\",\r\n    databaseURL: \"https://ecoregions-d6961.firebaseio.com\",\r\n    projectId: \"ecoregions-d6961\",\r\n    storageBucket: \"ecoregions-d6961.appspot.com\",\r\n    messagingSenderId: \"877054478831\"\r\n};\n\n@NgModule({\n  declarations: [\n    MyApp,\n    AboutPage,\n    ContactPage,\n    HomePage,\n    TabsPage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n      HttpClientModule,\n    AngularFireModule.initializeApp(firebaseConfig),\r\n      AngularFireDatabaseModule,\n      ExplorerPageModule,\n      DbpediaEntryPageModule,\n      ComponentsModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    AboutPage,\n    ContactPage,\n    HomePage,\n    TabsPage\n  ],\n  providers: [\n    StatusBar,\n    SplashScreen,\n    AngularFireDatabase,\n    {provide: ErrorHandler, useClass: IonicErrorHandler}\n  ]\n})\nexport class AppModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, Input, OnInit } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { DBpediaEntity } from '../../pages/explorer/explorer';\n\ninterface DBpediaEntry extends DBpediaEntity {\n    \"dbo:abstract\"?: string;\n    \"dbo:thumbnail\"?: string;\n    \"rdfs:label\"?: string;\n    \"foaf:isPrimaryTopicOf\"?: string[];\n};\n\n@Component({\n  selector: 'dbpedia-entity-viewer',\n  templateUrl: 'dbpedia-entity-viewer.html'\n})\nexport class DbpediaEntityViewerComponent implements OnInit {\n  @Input() entity: DBpediaEntity;\n\n  private entry: DBpediaEntry;\n  private fetching: boolean;\n  constructor(private http: HttpClient) {\n      this.entry = null;\n      this.fetching = false;\n  }\n\n  ngOnInit() {\n      if (!this.entity || !this.entity.URI || this.entity.URI.length == 0)\n          return;\n\n      this.fetching = true;\n      this.getData()\n          .subscribe(data => {\n              this.fetching = false;\n              this.entry = this.transformData(data);\n          })\r\n  }\n\n  getData() {\n      const dataUrl = this.entity.URI.replace('resource', 'data') + \".json\";\n      \r\n      return this.http.get(dataUrl);\r\n  }\n\n  transformData(data: any): DBpediaEntry {\n\n      let ent = data[this.entity.URI];\n\n      if (!ent) return this.entity;\n\n      const prefixes = {\n          dbo: \"http://dbpedia.org/ontology/\",\n          dbp: \"http://dbpedia.org/property/\",\n          rdfs: \"http://www.w3.org/2000/01/rdf-schema#\",\n          foaf: \"http://xmlns.com/foaf/0.1/\"\r\n      }\n\n      const abstract = ((ent[prefixes.dbo + \"abstract\"] || []).filter(d => d.lang == \"en\")[0] || {}).value;\n      const thumbnail = ((ent[prefixes.dbo + \"thumbnail\"] || [])[0] || {}).value;\n      const label = ((ent[prefixes.rdfs + \"label\"] || []).filter(d => d.lang == \"en\")[0] || {}).value;\n      const links = ((ent[prefixes.foaf + \"isPrimaryTopicOf\"]) || []).map(d => d.value);\n\n      return {\n          \"dbo:abstract\": abstract,\n          \"dbo:thumbnail\": thumbnail,\n          \"rdfs:label\": label,\n          \"foaf:isPrimaryTopicOf\": links,\n          ...this.entity\r\n      }\r\n  }\n\n\n  openLink(link: string) {\n\r\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/dbpedia-entity-viewer/dbpedia-entity-viewer.ts","import { Component, ViewChild, ViewContainerRef, ComponentRef, Compiler, Injector, NgModuleRef, NgModule, Input, SimpleChanges, OnChanges } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { TaggedHtmlModule } from './tagged-html.module';\n\nimport { AlertController, ModalController } from 'ionic-angular';\nimport { DbpediaEntryPage } from '../dbpedia-entry/dbpedia-entry';\n\n\n@Component({\r\n  selector: 'tagged-html',\r\n  template: `<div #vc></div>`\r\n})\r\nexport class TaggedHtml implements OnChanges {\r\n  @ViewChild('vc', {read: ViewContainerRef}) vc: ViewContainerRef;\r\n  @Input() html: string;\n\r\n  private cmpRef: ComponentRef<any>;\r\n  @Input() entities: any[];\n\n  private partialQueries: string[];\n  private partialResults: any[];\n\r\n  constructor(private compiler: Compiler,\r\n              private injector: Injector,\r\n              private moduleRef: NgModuleRef<any>,\r\n  ) {\n      this.entities = [];\n  }\r\n\n  ngOnChanges(changes: SimpleChanges) {\r\n      if (changes.entities || changes.html) {\r\n          this.refreshComponent();\r\n      }\r\n  }\n\n  refreshComponent() {\n      this.destroyComponent();\n\n      if (this.html && this.html.length > 0)\n        this.createComponentFromRaw(this.html);\r\n  }\n    \r\n  // Here we create the component.\r\n  private createComponentFromRaw(template: string) {\r\n    // Let's say your template looks like `<h2><some-component [data]=\"data\"></some-component>`\r\n    // As you see, it has an (existing) angular component `some-component` and it injects it [data]\r\n\n      var styles: string[] = [\n          `tagged-keyword{ \n            background: #f2fff2;\r\n            padding: 3px 5px;\r\n            margin: 1px 0;\r\n            display: inline-block;\r\n            border-radius: 3px;\r\n            border: 1px solid green;\r\n            border-style: dashed;\n          }`\n      ];\n\n      // Transform html\n      var filteredEntities = [];\n      if (this.entities.length > 0) {\n\n          filteredEntities = this.entities.filter(d => d.types.indexOf(\"DBpedia:Place\") > -1 || d.types.indexOf(\"DBpedia:Animal\") > -1 || d.types.indexOf(\"DBpedia:Plant\") > -1);\n\n          var multiquery = filteredEntities\n              .reduce((prev, entity, i) => { prev += i > 0 ? \"|\" + entity.symbols[0] : entity.symbols[0]; return prev; }, \"\");\n\n          var dict = {};\n          filteredEntities.map(d => dict[d.symbols[0]] = d);\n          \n        const re = new RegExp(multiquery, 'gi');\r\n        const match = template.match(re);\r\n\n        template = template.replace(re, co => `<tagged-keyword kw=\"${co}\" [entity]=\"entities['${co.split('\\'').join('_')}']\"></tagged-keyword>`)\r\n      }\r\n      \n      var filteredEntitiesDict = {};\n      filteredEntities.map(d => filteredEntitiesDict[d.symbols[0].split('\\'').join('_')] = d);\n\r\n    // Now we create a new component. It has that template, and we can even give it data.\r\n    const tmpCmp = Component({ template, styles })(class {\r\n      // the class is anonymous. But it's a quite regular angular class. You could add @Inputs,\r\n      // @Outputs, inject stuff etc.\n        entities: any = filteredEntitiesDict;\r\n        data: { };\r\n      ngOnInit() { /* do stuff here in the dynamic component */}\r\n    });\r\n\r\n    // Now, also create a dynamic module.\r\n    const tmpModule = NgModule({\r\n        imports: [IonicPageModule.forChild(tmpCmp), TaggedHtmlModule],\n        entryComponents: [],\r\n        declarations: [tmpCmp],\r\n      // providers: [] - e.g. if your dynamic component needs any service, provide it here.\r\n    })(class {});\r\n\r\n    // Now compile this module and component, and inject it into that #vc in your current component template.\r\n    this.compiler.compileModuleAndAllComponentsAsync(tmpModule)\r\n        .then((factories) => {\n            const factoryIdx = factories.componentFactories.length - 1;\r\n            const f = factories.componentFactories[factoryIdx];\r\n            this.cmpRef = f.create(this.injector, [], null, this.moduleRef);\r\n            this.cmpRef.instance.name = 'tagged-html-inst';\r\n            this.vc.insert(this.cmpRef.hostView);\r\n      });\r\n  }\r\n\r\n  // Cleanup properly. You can add more cleanup-related stuff here.\r\n  ngOnDestroy() {\r\n      this.destroyComponent();\r\n  }\n\n  destroyComponent() {\n      this.vc.clear();\n      if (this.cmpRef) {\r\n          this.cmpRef.destroy();\r\n      }\r\n  }\r\n}\n\n@Component({\r\n    selector: 'tagged-keyword',\r\n    template: `<span class=\"keyword\" (click)=\"alert(kw)\">{{kw}}</span>`\r\n})\r\nexport class TaggedKeyword {\n    @Input() kw: string;\n    @Input() entity: any;\n\n    constructor(private modalCtrl: ModalController) {\n\r\n    }\n\n    alert(msg) {\n        console.log(this.entity);\n\n        const modal = this.modalCtrl.create(DbpediaEntryPage, {\r\n            entry: this.entity\r\n        });\r\n        modal.present();\r\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/explorer/tagged-html.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { TabsPage } from '../pages/tabs/tabs';\n\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = TabsPage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","module.exports = {\"version\":8,\"name\":\"EcoZones\",\"metadata\":{\"mapbox:origin\":\"basic-template-v1\",\"mapbox:autocomposite\":true,\"mapbox:type\":\"template\",\"mapbox:sdk-support\":{\"js\":\"0.45.0\",\"android\":\"6.0.0\",\"ios\":\"4.0.0\"}},\"center\":[5.199621917747322,45.063576295924406],\"zoom\":4.528944042986414,\"bearing\":0,\"pitch\":0,\"sources\":{\"mapbox://mapbox.satellite\":{\"url\":\"mapbox://mapbox.satellite\",\"type\":\"raster\",\"tileSize\":256},\"composite\":{\"url\":\"mapbox://gatthias.6yy30oi9,gatthias.dea0zgkt\",\"type\":\"vector\"}},\"sprite\":\"mapbox://sprites/gatthias/cjix2tz127yof2rno8whtftdb\",\"glyphs\":\"mapbox://fonts/gatthias/{fontstack}/{range}.pbf\",\"layers\":[{\"id\":\"mapbox-satellite\",\"type\":\"raster\",\"source\":\"mapbox://mapbox.satellite\",\"layout\":{\"visibility\":\"visible\"},\"paint\":{}},{\"id\":\"ecoregions2017\",\"type\":\"fill\",\"source\":\"composite\",\"source-layer\":\"teow-9cikvy\",\"minzoom\":3,\"filter\":[\"==\",\"$type\",\"Polygon\"],\"layout\":{},\"paint\":{\"fill-opacity\":0.69,\"fill-color\":[\"interpolate\",[\"linear\"],[\"get\",\"ECO_SYM\"],12,\"hsl(151, 73%, 8%)\",887,\"hsl(88, 100%, 50%)\"],\"fill-outline-color\":\"hsl(0, 0%, 100%)\"}},{\"id\":\"ecoregionsNames\",\"type\":\"symbol\",\"source\":\"composite\",\"source-layer\":\"Ecoregions2017\",\"minzoom\":5,\"filter\":[\"==\",\"$type\",\"Polygon\"],\"layout\":{\"visibility\":\"visible\",\"text-field\":[\"to-string\",[\"get\",\"ECO_NAME\"]],\"text-size\":12},\"paint\":{\"text-color\":\"hsl(0, 0%, 100%)\",\"text-halo-width\":1,\"text-halo-blur\":0}},{\"id\":\"Biomes\",\"type\":\"fill\",\"source\":\"composite\",\"source-layer\":\"teow-9cikvy\",\"minzoom\":3,\"filter\":[\"==\",\"$type\",\"Polygon\"],\"layout\":{\"visibility\":\"none\"},\"paint\":{\"fill-color\":[\"interpolate\",[\"linear\"],[\"get\",\"BIOME\"],1,\"hsl(0, 83%, 25%)\",99,\"hsl(216, 100%, 50%)\"],\"fill-opacity\":0.69}}],\"created\":\"2018-06-27T12:09:01.361Z\",\"id\":\"cjix2tz127yof2rno8whtftdb\",\"modified\":\"2018-07-27T09:34:06.969Z\",\"owner\":\"gatthias\",\"visibility\":\"private\",\"draft\":false}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/theme/mapstyle.json\n// module id = 487\n// module chunks = 0"],"sourceRoot":""}